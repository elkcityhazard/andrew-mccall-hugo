<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content=" An implementation of a random string generator using golang&#39;s rand package and an empty slice of rune. - Andrew M McCall is a Golang, Javascript, PHP, SQL web developer living in Traverse City, MI ">
        <title>Golang Create a Random String -Andrew M McCall - Golang, Javascript, PHP, Wordpress</title>
	
	
	<link rel="stylesheet" type="text/css" href="//localhost:1313/css/index.css">
	<script src="/scripts/index.js" type="module" defer></script>

</head>
<body class="single">
	<div class="wrapper">
		<header class="article-header">
			<nav class="main-nav">
				
					

				<a href="/about/" title="About Me" rel="">About Me</a>	
				

				<a href="/blog/" title="Blog" rel="">Blog</a>	
				

				<a href="/contact/" title="Contact" rel="">Contact</a>	
				

				<a href="/projects/" title="Projects" rel="">Projects</a>	
				
				
			</nav>
			<h1 class="article-title">Golang Create a Random String</h1>
			<div class="author-byline">
				<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Dec 31, 2023</span>

						
						
					
						
							<br />
							<strong> Categories: </strong>
							<ul class="categories">
							
									<li>
										<a href="/categories/web-development/">Web Development</a>
									</li>

							
						</ul>
						

						
							<br />
							<strong> Tags: </strong>
							<ul class="categories">
							
									<li>
										<a href="/tags/golang/">Golang</a>
									</li>
                        <span class="divider"></span>

							
									<li>
										<a href="/tags/crypto/">Crypto</a>
									</li>
                        <span class="divider"></span>

							
									<li>
										<a href="/tags/rune/">Rune</a>
									</li>
                        <span class="divider"></span>

							
						</ul>
						

			</div>
				<nav aria-label="breadcrumb" class="breadcrumb">
  				<ol class="breadcrumbs">
  				  
  				    <li>
  				      <a href="//localhost:1313/">Home</a>
  				    </li>
  				  
  				    <li>
  				      <a href="//localhost:1313/blog/">Blog</a>
  				    </li>
  				  
  				  <li class="active">
  				    <a aria-current="page" href="//localhost:1313/blog/2023/12/golang-create-a-random-string/">Golang Create a Random String</a>
  				  </li>
  				</ol>
			</nav>
			</header>
		<div class="container">
				<main class="main-content">
				<article id="mainContent" class="main-content__content">
					<h2 id="golang-introduction-to-why-we-need-random-strings">Golang: Introduction To Why We Need Random Strings</h2>
<p>Let us say we have a cat photo sharing application where users are allowed to upload photos of their cats.  This sounds amazing of course. But we might start to run into some issues. For example, we may have two different users.  User &ldquo;Susan&rdquo; has a cat named &ldquo;Snowball&rdquo; and user &ldquo;Jane&rdquo; has a cat named &ldquo;Snowball&rdquo;.  No problem, right? Two people can name their cat the same thing.  But let&rsquo;s say that Susan and Jane upload new pictures of their cats and they both happen to be <code>snowball.jpeg</code>.  Furthermore, our application doesn&rsquo;t contain unique directories by user, it just lumps every new file upload into the <code>/static/media/uploads/</code> folder.  As you can see, we can potentially have an issue here.  Jane might upload their picture of &ldquo;Snowball&rdquo; after Susan uploaded their picture of &ldquo;Snowball&rdquo; and overwrite Susan&rsquo;s file upload.</p>
<p>This type of naming collision is a real world problem with annoying consequences.  To mitigate this, we simply rename all the files using a randomly generated string and save a reference to it in the database.</p>
<h2 id="golang-generate-random-string-using-crypto">Golang: Generate Random String Using Crypto</h2>
<p>Here is the function that I like to use to do this:</p>
<pre tabindex="0"><code>package main

import (
	&#34;crypto/rand&#34;
	&#34;fmt&#34;
)

const randomStringSource = &#34;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0987654321_+=&#34;

func main() {

	fmt.Println(randomString(20))

}

func randomString(n int) string {

	// define 2 vars
	// the first is just a slice of rune that is n length
	// the second is a slice of rune seeded from random string source

	s, r := make([]rune, n), []rune(randomStringSource)

	// loop through the empty rune slice
	for i := range s {
		// generate a prime number based on the given bit length of r log2(n)+1
		// for example, 12 would return a bit-length of 4 so the prime number would be based on 4
		p, _ := rand.Prime(rand.Reader, len(r))

		// define 2 additional variables,
		// x is based on the Unit64 representation of p from above
		// y is based on the uint64 type case of the length of R (our []rune(randomString))
		x, y := p.Uint64(), uint64(len(r)) // note: uint64 here because we know it will not be negative

		// finally for the index of if in s which is just an empty slice of rune
		// choose a  rune from r where the index is the result of modulus operationx x%y

		s[i] = r[x%y]
	}

	// after we finish looping through the rune and assigning values to each index,
	// return the string
	return string(s)
}
</code></pre><section class="cta">
    <div class="cta__inner">
        <h3> Are you ready to master Golang and take your programming skills to the next level?</h3>
        <div class="row">
            <div class="col-50">
                <div class="cta__inner-card">
                    <p>Learn Go with comprehensive video lessons and interactive exercises. Gain the knowledge and confidence to use Golang productively.</p>
                </div>
                <div class="cta__inner-card">
                    <p>Using one of the best modern web programming languages, level up your skills and career by building beautiful applications.</p>
                </div>
            </div>
            <div class="col-50">
                <div class="content-wrap">
                    <img data-src="/images/icons/early_bird_discount.png" class="lazy" alt="early bird discout" height="256" width="256" loading="lazy" decoding="async">
                    <p>Enroll now and start your journey towards mastering golang and start leveling up your career today!</p>
                    <a href="#!" class="cta-btn">Enroll Now</a>
                </div>
            </div>
            
        </div>
    </div>
</section>
<ol>
<li>The first thing we need to do is create the randomStringSource seed data.  This is defined as <code>randomStringSource</code>.  All we are doing here is creating a string with the random characters we want to use in our function.</li>
<li>Next, we need to create the function to handle generating our random string.  This accepts a paramenter <code>n</code> which is just the length we want to make the random string.  The function returns the random string.</li>
<li>Inside of the function we define to variables.  The first is an empty slice of rune that is the length of <code>n</code>.  The second is slice of rune populated with the <code>randomStringSource</code>.</li>
<li>Then we <code>range</code> through <code>s</code> which is just the empty rune slice with the length of <code>n</code>.</li>
<li>We create <code>p</code> which is a random number using the <code>rand.Prime(rand.Reader, len(r))</code>.  This returns an expected randomly prime number based on the bit-length of <code>len(r)</code></li>
<li>For example, the bit-length of 12 is <code>log2(12) + 1</code> or 4 so it could potentially return a value of 1009.</li>
<li>Next we define 2 additional variables which we will use to select the random character from the slice of rune that is populated by our <code>randomStringSource</code></li>
<li>x is equal to the value of p cast to Unit64</li>
<li>y is equal to the length of r (our slice of rune populated by <code>randonStringSource</code>) case to unit64</li>
<li>The final operation of the for loop is to populate the current <code>index</code> of <code>s</code> with the value at index of <code>r[x%y]</code>.  Here we use the modulo operator to get the remainder of x / y.  For example: <code>5 % 3 = 2</code></li>
<li>After we finish looping through the []rune that is a length of n, we simply return our randomly generated string.</li>
</ol>
<h2 id="golang-types-use">Golang Types Use</h2>
<ul>
<li><strong>String</strong>:  a string is a set of all strings that contains 8-bit bytes.  <a href="https://go.dev/blog/strings" title="Official Golang Blog Post On Strings">In Go, a string is in effect a read-only slice of bytes. </a></li>
<li><strong>Rune</strong>: An alias for the type int32.  Go introduced this concept to mean the same thing as &ldquo;code point.&rdquo; Since Go&rsquo;s source code is always <code>UTF-8</code> encoded, we can extract the following characterizations: a string holds an arbitrary amount of bytes, a string literal, absent of byte-level escapes, always holds valid UTF-8 sequences, these valid sequences represent unicode code points called runes, and there is no guarantee that characters in strings are normalized.  source: <a href="https://go.dev/blog/strings" title="Official Golang Blog Post On Strings">Offical Go Blog</a></li>
<li><strong>Uint64</strong>: uint64 is the set of all unsigned 64-bit integers. Range: 0 through 18446744073709551615.  An unsigned integer is used when we know that the value we are storing will always be a non-negative number.  source: <a href="https://users.cs.utah.edu/~germain/PPS/Topics/unsigned_integer.html" title="Unsigned Integer Definition">University Of Utah CS Department</a></li>
</ul>
<p>As you can see, it doesn&rsquo;t take too many lines of code to easily generate random strings with Go. This can be hugely beneficial to help eliminate naming collision because it removes the dependency of naming from the users and allows for a clean way to index files or other data without risking collision.</p>

				</article>
			</main>
			<aside class="sidebar"> 
			
		<section class="author-card">
		<div class="author-card__inner-row">
			<div class="author-card__inner-row__portrait">
				<div class="outer-portrait">
					<div class="inner-portrait">
						<img data-src="/images/portrait.webp" class="logo" alt="portrait of author" height="300" width="300" loading="lazy" decoding="async">
					</div>
				</div>
			</div>
			<div class="author-meta">
					<h3 class="author-meta__name">Andrew M McCall</h3>
					<span class="role">Web Developer</span>
					<div class="meta-box  ">
						<time class="publish-date" datetime="2023-12-31 19:18:59 -0500 EST">Dec 31, 2023</time>
					<span id="readTime" class="read-time">-</span>
					</div>
					
					 
					<div class="social-icons">
						
						<a href="/contact" title=" email  - social " rel="noreferrer noopener"><img data-src="/images/icons/email-50x50.svg" class="logo" alt="email - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://indieweb.social/@elkcityhazard" title=" @elkcityhazard  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-purple.png" class="logo" alt="mastodon - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://book.andrew-mccall.com/" title=" introwise  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-small-transparent.png" class="logo" alt="introwise - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://codeberg.org/elkcityhazard" title=" codeberg  - social " rel="noreferrer noopener"><img data-src="/images/icons/codeberg.png" class="logo" alt="codeberg - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://gitlab.com/elkcityhazard" title=" gitlab  - social " rel="noreferrer noopener"><img data-src="/images/icons/gitlab.png" class="logo" alt="gitlab - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
					</div>
					
					
				</div>
                    
		</div>
    
</section>
 
                        

<section class="related">
<h3 class="related__heading">See Also</h3>
<ul>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2024/01/javascript-image-animation-effects/" title="Javascript Image Animation Effects">
					<h4 class="featured-card__title">Javascript Image Animation Effects</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 27, 2024</span>
					</div>
					<div class="featured-card__content">I walk through the process of using html canvas, javascript, and css to manipulate an image.</div>
					<a href="/blog/2024/01/javascript-image-animation-effects/" class="featured-card__button d-none" title="Javascript Image Animation Effects -I walk through the process of using html canvas, javascript, and css to manipulate an image.">Javascript Image Animation Effects</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2024/01/sending-emails-with-go-routines/" title="Sending Emails With Go Routines">
					<h4 class="featured-card__title">Sending Emails With Go Routines</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 15, 2024</span>
					</div>
					<div class="featured-card__content">Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.</div>
					<a href="/blog/2024/01/sending-emails-with-go-routines/" class="featured-card__button d-none" title="Sending Emails With Go Routines -Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.">Sending Emails With Go Routines</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2023/12/go-channels-tutorial/" title="Go Channels Tutorial - Understanding Goroutines and Channels">
					<h4 class="featured-card__title">Go Channels Tutorial - Understanding Goroutines and Channels</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Dec 26, 2023</span>
					</div>
					<div class="featured-card__content">Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.</div>
					<a href="/blog/2023/12/go-channels-tutorial/" class="featured-card__button d-none" title="Go Channels Tutorial - Understanding Goroutines and Channels -Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.">Go Channels Tutorial - Understanding Goroutines and Channels</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2023/01/easy-vanilla-javascript-carousel-slider-tutorial-for-beginners/" title="Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial">
					<h4 class="featured-card__title">Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 29, 2023</span>
					</div>
					<div class="featured-card__content">Vanilla Javascript Carousel Slider: A Beginner Slider A photo or content slider is one of the oldest, but most popular design assets one can create with javascript. Many developers will reach for popular carousel frameworks such as swiper, slick, or photoswipe. Most of the time, you don&rsquo;t need so much overhead. Let&rsquo;s build a slider together and see how we can build a responsive slider without using a ton of a extra javascript.</div>
					<a href="/blog/2023/01/easy-vanilla-javascript-carousel-slider-tutorial-for-beginners/" class="featured-card__button d-none" title="Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial -Vanilla Javascript Carousel Slider: A Beginner Slider A photo or content slider is one of the oldest, but most popular design assets one can create with javascript. Many developers will reach for popular carousel frameworks such as swiper, slick, or photoswipe. Most of the time, you don&rsquo;t need so much overhead. Let&rsquo;s build a slider together and see how we can build a responsive slider without using a ton of a extra javascript.">Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2022/12/golang-image-resize-and-golang-image-crop/" title="Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language">
					<h4 class="featured-card__title">Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Dec 18, 2022</span>
					</div>
					<div class="featured-card__content">An introduction to some of the very basic features of iamge cropping with Go.</div>
					<a href="/blog/2022/12/golang-image-resize-and-golang-image-crop/" class="featured-card__button d-none" title="Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language -An introduction to some of the very basic features of iamge cropping with Go.">Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language</a>
				</div>
 </li>
 
</ul>
</section>

			<section class="toc">
	<h3>Table Of Contents</h3>
	<nav id="TableOfContents">
  <ul>
    <li><a href="#golang-introduction-to-why-we-need-random-strings">Golang: Introduction To Why We Need Random Strings</a></li>
    <li><a href="#golang-generate-random-string-using-crypto">Golang: Generate Random String Using Crypto</a></li>
    <li><a href="#golang-types-use">Golang Types Use</a></li>
  </ul>
</nav>
</section> 
		</aside>
		</div>
		
		<section class="featured">
			<h2 class="featured__title">My Recent Posts</h2>
			<div class="featured__articles">
				

				
				<div class="featured-card">
					<a href="/blog/2024/02/go-tests-notes-for-creating-go-tests/" title="Go Tests Notes for Creating Go Tests-Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.">
					<h2 class="featured-card__title">Go Tests Notes for Creating Go Tests</h2>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Feb 01, 2024</span>
						
					</div>
					<div class="featured-card__content">Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.</div>
					<a href="/blog/2024/02/go-tests-notes-for-creating-go-tests/" class="featured-card__button " title="Go Tests Notes for Creating Go Tests -Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.">Go Tests Notes for Creating Go Tests</a>
				</div>
				
				<div class="featured-card">
					<a href="/blog/2024/01/javascript-image-animation-effects/" title="Javascript Image Animation Effects-I walk through the process of using html canvas, javascript, and css to manipulate an image.">
					<h2 class="featured-card__title">Javascript Image Animation Effects</h2>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 27, 2024</span>
						
					</div>
					<div class="featured-card__content">I walk through the process of using html canvas, javascript, and css to manipulate an image.</div>
					<a href="/blog/2024/01/javascript-image-animation-effects/" class="featured-card__button " title="Javascript Image Animation Effects -I walk through the process of using html canvas, javascript, and css to manipulate an image.">Javascript Image Animation Effects</a>
				</div>
				
				<div class="featured-card">
					<a href="/blog/2024/01/sending-emails-with-go-routines/" title="Sending Emails With Go Routines-Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.">
					<h2 class="featured-card__title">Sending Emails With Go Routines</h2>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 15, 2024</span>
						
					</div>
					<div class="featured-card__content">Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.</div>
					<a href="/blog/2024/01/sending-emails-with-go-routines/" class="featured-card__button " title="Sending Emails With Go Routines -Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.">Sending Emails With Go Routines</a>
				</div>
				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			
			</div>

			
		</section>

		<section class="featured">
			<h2 class="featured__title">My Recent Projects</h2>
			<div class="featured__articles">
				

				
			
			</div>

			
		</section>	
		<footer class="main-footer">
	<div class="main-footer__row">
		<div class="col">
			<a href="//localhost:1313/">
			<img data-src="/images/logo-small-transparent.png" class="logo" alt="logo" loading="lazy" decoding="async" height="200" width="200">
		</a>
		</div>
		<div class="col">
				<h4>Navigation</h4>
<nav class="footer-nav">
				
					

				<a href="/about/" title="About Me" rel="">About Me</a>	
				

				<a href="/blog/" title="Blog" rel="">Blog</a>	
				

				<a href="/contact/" title="Contact" rel="">Contact</a>	
				

				<a href="/projects/" title="Projects" rel="">Projects</a>	
				
				
			</nav>
		</div>
		<div class="col">
			
					 <h4>Connect</h4>
					<div class="social-icons footer">
						
						<a href="/contact" title=" email  - social " rel="noreferrer noopener"><img data-src="/images/icons/email-50x50.svg" alt="email social icon" class="logo" aria-label="email" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://indieweb.social/@elkcityhazard" title=" @elkcityhazard  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-purple.png" alt="mastodon social icon" class="logo" aria-label="mastodon" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://book.andrew-mccall.com/" title=" introwise  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-small-transparent.png" alt="introwise social icon" class="logo" aria-label="introwise" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://codeberg.org/elkcityhazard" title=" codeberg  - social " rel="noreferrer noopener"><img data-src="/images/icons/codeberg.png" alt="codeberg social icon" class="logo" aria-label="codeberg" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://gitlab.com/elkcityhazard" title=" gitlab  - social " rel="noreferrer noopener"><img data-src="/images/icons/gitlab.png" alt="gitlab social icon" class="logo" aria-label="gitlab" loading="lazy" decoding="async" height="45" width="45"></a>
						
					</div>
					
					
		</div>
			
	</div>
	
	<p class="center">&copy; <span id="currentYear">2024</span> - <a href="//localhost:1313/">Andrew M McCall - Traverse City Web Developer</a> </p>
</footer>


	</div>
</body>
</html>
