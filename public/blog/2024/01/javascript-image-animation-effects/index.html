<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content=" Some notes on how to use html canvas and javascript to create animations on the front end. - Andrew M McCall is a Golang, Javascript, PHP, SQL web developer living in Traverse City, MI ">
        <title>Javascript Image Animation Effects -Andrew M McCall - Golang, Javascript, PHP, Wordpress</title>
	
	
	<link rel="stylesheet" type="text/css" href="//localhost:1313/css/index.css">
	<script src="/scripts/index.js" type="module" defer></script>

</head>
<body class="single">
	<div class="wrapper">
		<header class="article-header">
			<nav class="main-nav">
				
					

				<a href="/about/" title="About Me" rel="">About Me</a>	
				

				<a href="/blog/" title="Blog" rel="">Blog</a>	
				

				<a href="/contact/" title="Contact" rel="">Contact</a>	
				

				<a href="/projects/" title="Projects" rel="">Projects</a>	
				
				
			</nav>
			<h1 class="article-title">Javascript Image Animation Effects</h1>
			<div class="author-byline">
				<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 27, 2024</span>

						
						
					
						
							<br />
							<strong> Categories: </strong>
							<ul class="categories">
							
									<li>
										<a href="/categories/web-development/">Web Development</a>
									</li>

							
						</ul>
						

						
							<br />
							<strong> Tags: </strong>
							<ul class="categories">
							
									<li>
										<a href="/tags/html/">Html</a>
									</li>

							
									<li>
										<a href="/tags/css/">Css</a>
									</li>

							
									<li>
										<a href="/tags/javascript/">Javascript</a>
									</li>

							
									<li>
										<a href="/tags/images/">Images</a>
									</li>

							
						</ul>
						

			</div>
				<nav aria-label="breadcrumb" class="breadcrumb">
  				<ol class="breadcrumbs">
  				  
  				    <li>
  				      <a href="//localhost:1313/">Home</a>
  				    </li>
  				  
  				    <li>
  				      <a href="//localhost:1313/blog/">Blog</a>
  				    </li>
  				  
  				  <li class="active">
  				    <a aria-current="page" href="//localhost:1313/blog/2024/01/javascript-image-animation-effects/">Javascript Image Animation Effects</a>
  				  </li>
  				</ol>
			</nav>
			</header>
		<div class="container">
				<main class="main-content">
				<article id="mainContent" class="main-content__content">
					<h2 id="setting-up-the-html">Setting Up The HTML</h2>
<p>The first thing we need to do is create a new canvas and also have some sort of image to source it.  In this example, I am just using the image that was on the page, but you could also just have a file saved on your server and pull it in that way.</p>
<pre tabindex="0"><code>&lt;canvas id=&#34;portrait&#34;&gt;

&lt;/canvas&gt;
&lt;img id=&#34;portraitImg&#34; src=&#34;/images/andrew-mccall-500x664.png&#34; alt=&#34;Andrew M McCall in front of a desert painted background&#34; class=&#34;portrait&#34; height=&#34;664&#34; width=&#34;500&#34; decoding=&#34;async&#34;&gt;
</code></pre><h2 id="javascript-class-setup">Javascript Class Setup</h2>
<pre tabindex="0"><code> class PortraitAnimation {
    constructor(canvas, image) {
        
        this.canvas = document.getElementById(canvas) 
        this.ctx = this.canvas.getContext(&#39;2d&#39;) 
        this.image = document.getElementById(image)
        this.canvas.width = this.image.width
        this.canvas.height = this.image.height
        


        this.events()
       
    }

    events() {
        if (!this.canvas || !this.ctx || !this.image) {
            return null
        }
        console.info(&#39;portrait animation 0.0.1...&#39;)

        //this.canvas.drawImage(this.image, 0, 0, this.image.width, this.image.height)
        this.ctx.drawImage(this.image, 0, 0, this.image.width, this.image.height)

        this.image.remove()
        
    }

}


// slice image into grid, each cell object is a grid area

class Cell {

}

// the main brain of the animation to manage state

class Effect {
    constructor(canvas) {
        this.canvas = canvas
        this.width = this.canvas.width
        this.height = this.canvas.height

    }

}

export {
    PortraitAnimation,
    Cell,
    Effect
}
</code></pre><ol>
<li>We Create the Effect class.</li>
<li>We populate it with properties</li>
<li>Establish what the individual cell width and height are going to be</li>
<li>Create a new Cell referencing the effect and draw it at 0, 0</li>
<li>We want each cell to be the same height and width, so back up in the <code>Cell Class</code> we are setting teh height and width to the effect.cellWidth and effect.cellHeight</li>
<li>We create a draw method in the cell class</li>
<li>create a render method on the Effect class</li>
</ol>
<ul>
<li>This render method will have call <code>this.cell.draw(context)</code></li>
</ul>
<ol start="8">
<li>We need to create an imageGrid array inside of the Effect class</li>
<li>In Effect Class, create a method called <code>createGrid()</code></li>
</ol>
<ul>
<li>this is a nested for loop
the goal here is to create an imageGrid and push a cell to it with the effect, and also the current x y coordinates based on the width of each cell</li>
</ul>
<ol start="10">
<li>we can actually call create grid in the Effect constructor to get this done right way</li>
<li>in render, we need to loop through the imageGrid and call cell.draw() on each of the grid items</li>
<li>we need to be able to access the image in the cell</li>
</ol>
<ul>
<li>in my example, I am actually passing the image from the Effect class.  This is received from the PortraitAnimation Class</li>
<li>I updated the draw method to include the following code:</li>
<li><code> context.drawImage(this.image, this.x, this.y, this.width, this.height, this.x, this.y, this.width, this.height)</code></li>
</ul>
<ol start="13">
<li>next I need to create an animation loop</li>
</ol>
<ul>
<li>this calls <code>effect.render()</code></li>
<li>it also calls <code>requestAnimationFrame(animate)</code></li>
</ul>
<ol start="14">
<li>Next we add a prop to the Cell class slideX and slideY</li>
</ol>
<ul>
<li>we created an update method on the cell which updates slidex and slidey</li>
<li>we call update in the forEach loop where we draw the cell</li>
</ul>
<ol start="15">
<li>In the effect, we create a new property for the mouse</li>
</ol>
<ul>
<li>this has x, y, and radius</li>
<li>we also add an event listener to the canvas for mousemove with a callback function</li>
<li>this callback sets <code>this.mouse</code> we use <code>e.offsetX</code> and <code>e.offsetY</code> to populate the mouse values</li>
</ul>
<ol start="16">
<li><strong>Distance Between 2 Points</strong> in 2d space:</li>
</ol>
<h2 id="calculate-horizontal-distance-between-two-points">Calculate Horizontal Distance Between Two Points</h2>
<h2 id="calcualte-angle">Calcualte Angle</h2>

				</article>
			</main>
			<aside class="sidebar"> 
			
		<section class="author-card">
		<div class="author-card__inner-row">
			<div class="author-card__inner-row__portrait">
				<div class="outer-portrait">
					<div class="inner-portrait">
						<img data-src="/images/portrait.webp" class="logo" alt="portrait of author" height="300" width="300" loading="lazy" decoding="async">
					</div>
				</div>
			</div>
			<div class="author-meta">
					<h3 class="author-meta__name">Andrew M McCall</h3>
					<span class="role">Web Developer</span>
					<div class="meta-box  ">
						<time class="publish-date" datetime="2024-01-27 20:24:05 -0500 EST">Jan 27, 2024</time>
					<span id="readTime" class="read-time">-</span>
					</div>
					
					 
					<div class="social-icons">
						
						<a href="/contact" title=" email  - social " rel="noreferrer noopener"><img data-src="/images/icons/email-50x50.svg" class="logo" alt="email - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://indieweb.social/@elkcityhazard" title=" @elkcityhazard  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-purple.png" class="logo" alt="mastodon - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://book.andrew-mccall.com/" title=" introwise  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-small-transparent.png" class="logo" alt="introwise - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://codeberg.org/elkcityhazard" title=" codeberg  - social " rel="noreferrer noopener"><img data-src="/images/icons/codeberg.png" class="logo" alt="codeberg - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
						<a href="https://gitlab.com/elkcityhazard" title=" gitlab  - social " rel="noreferrer noopener"><img data-src="/images/icons/gitlab.png" class="logo" alt="gitlab - social icon" loading="lazy" decoding="async" height="35" width="35"></a>
						
					</div>
					
					
				</div>
                    
		</div>
    
</section>
 
                        

<section class="related">
<h3 class="related__heading">See Also</h3>
<ul>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2024/01/sending-emails-with-go-routines/" title="Sending Emails With Go Routines">
					<h4 class="featured-card__title">Sending Emails With Go Routines</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 15, 2024</span>
					</div>
					<div class="featured-card__content">Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.</div>
					<a href="/blog/2024/01/sending-emails-with-go-routines/" class="featured-card__button d-none" title="Sending Emails With Go Routines -Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.">Sending Emails With Go Routines</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2023/12/golang-create-a-random-string/" title="Golang Create a Random String">
					<h4 class="featured-card__title">Golang Create a Random String</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Dec 31, 2023</span>
					</div>
					<div class="featured-card__content">Go&rsquo;s rand package can help us easily generate a random string for when we need to ensure uniqueness with naming in our applicaton. We walkthrough the process of generating a random string using golang.</div>
					<a href="/blog/2023/12/golang-create-a-random-string/" class="featured-card__button d-none" title="Golang Create a Random String -Go&rsquo;s rand package can help us easily generate a random string for when we need to ensure uniqueness with naming in our applicaton. We walkthrough the process of generating a random string using golang.">Golang Create a Random String</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2023/12/go-channels-tutorial/" title="Go Channels Tutorial - Understanding Goroutines and Channels">
					<h4 class="featured-card__title">Go Channels Tutorial - Understanding Goroutines and Channels</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Dec 26, 2023</span>
					</div>
					<div class="featured-card__content">Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.</div>
					<a href="/blog/2023/12/go-channels-tutorial/" class="featured-card__button d-none" title="Go Channels Tutorial - Understanding Goroutines and Channels -Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.">Go Channels Tutorial - Understanding Goroutines and Channels</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2023/01/easy-vanilla-javascript-carousel-slider-tutorial-for-beginners/" title="Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial">
					<h4 class="featured-card__title">Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 29, 2023</span>
					</div>
					<div class="featured-card__content">Vanilla Javascript Carousel Slider: A Beginner Slider A photo or content slider is one of the oldest, but most popular design assets one can create with javascript. Many developers will reach for popular carousel frameworks such as swiper, slick, or photoswipe. Most of the time, you don&rsquo;t need so much overhead. Let&rsquo;s build a slider together and see how we can build a responsive slider without using a ton of a extra javascript.</div>
					<a href="/blog/2023/01/easy-vanilla-javascript-carousel-slider-tutorial-for-beginners/" class="featured-card__button d-none" title="Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial -Vanilla Javascript Carousel Slider: A Beginner Slider A photo or content slider is one of the oldest, but most popular design assets one can create with javascript. Many developers will reach for popular carousel frameworks such as swiper, slick, or photoswipe. Most of the time, you don&rsquo;t need so much overhead. Let&rsquo;s build a slider together and see how we can build a responsive slider without using a ton of a extra javascript.">Vanilla Javascript Carousel Slider: A Beginner&#39;s Tutorial</a>
				</div>
 </li>
 
 <li>
 	<div class="featured-card">
					<a href="/blog/2022/12/golang-image-resize-and-golang-image-crop/" title="Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language">
					<h4 class="featured-card__title">Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language</h4>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Dec 18, 2022</span>
					</div>
					<div class="featured-card__content">An introduction to some of the very basic features of iamge cropping with Go.</div>
					<a href="/blog/2022/12/golang-image-resize-and-golang-image-crop/" class="featured-card__button d-none" title="Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language -An introduction to some of the very basic features of iamge cropping with Go.">Golang Image Resize and Golang Image Crop: Image Manipulation With Go Programming Language</a>
				</div>
 </li>
 
</ul>
</section>

			<section class="toc">
	<h3>Table Of Contents</h3>
	<nav id="TableOfContents">
  <ul>
    <li><a href="#setting-up-the-html">Setting Up The HTML</a></li>
    <li><a href="#javascript-class-setup">Javascript Class Setup</a></li>
    <li><a href="#calculate-horizontal-distance-between-two-points">Calculate Horizontal Distance Between Two Points</a></li>
    <li><a href="#calcualte-angle">Calcualte Angle</a></li>
  </ul>
</nav>
</section> 
		</aside>
		</div>
		
		<section class="featured">
			<h2 class="featured__title">My Recent Posts</h2>
			<div class="featured__articles">
				

				
				<div class="featured-card">
					<a href="/blog/2024/02/go-tests-notes-for-creating-go-tests/" title="Go Tests Notes for Creating Go Tests-Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.">
					<h2 class="featured-card__title">Go Tests Notes for Creating Go Tests</h2>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Feb 01, 2024</span>
						
					</div>
					<div class="featured-card__content">Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.</div>
					<a href="/blog/2024/02/go-tests-notes-for-creating-go-tests/" class="featured-card__button " title="Go Tests Notes for Creating Go Tests -Go has powerful concurrency tools fully baked into the programming Language.  This post aims to explain go routines and channels so you can get started using them in your own projects.">Go Tests Notes for Creating Go Tests</a>
				</div>
				
				<div class="featured-card">
					<a href="/blog/2024/01/javascript-image-animation-effects/" title="Javascript Image Animation Effects-I walk through the process of using html canvas, javascript, and css to manipulate an image.">
					<h2 class="featured-card__title">Javascript Image Animation Effects</h2>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 27, 2024</span>
						
					</div>
					<div class="featured-card__content">I walk through the process of using html canvas, javascript, and css to manipulate an image.</div>
					<a href="/blog/2024/01/javascript-image-animation-effects/" class="featured-card__button " title="Javascript Image Animation Effects -I walk through the process of using html canvas, javascript, and css to manipulate an image.">Javascript Image Animation Effects</a>
				</div>
				
				<div class="featured-card">
					<a href="/blog/2024/01/sending-emails-with-go-routines/" title="Sending Emails With Go Routines-Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.">
					<h2 class="featured-card__title">Sending Emails With Go Routines</h2>
					</a>
					<div class="featured-card__byline">
						<strong>By: </strong><span>Andrew M McCall</span>
						<br />
						<strong>Published: </strong><span>Jan 15, 2024</span>
						
					</div>
					<div class="featured-card__content">Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.</div>
					<a href="/blog/2024/01/sending-emails-with-go-routines/" class="featured-card__button " title="Sending Emails With Go Routines -Transactional emails and token creation are expensive operations.  Let&rsquo;s explore how we can offload these to the background using channels and go routines.">Sending Emails With Go Routines</a>
				</div>
				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			

				
			
			</div>

			
		</section>

		<section class="featured">
			<h2 class="featured__title">My Recent Projects</h2>
			<div class="featured__articles">
				

				
			
			</div>

			
		</section>	
		<footer class="main-footer">
	<div class="main-footer__row">
		<div class="col">
			<a href="//localhost:1313/">
			<img data-src="/images/logo-small-transparent.png" class="logo" alt="logo" loading="lazy" decoding="async" height="200" width="200">
		</a>
		</div>
		<div class="col">
				<h4>Navigation</h4>
<nav class="footer-nav">
				
					

				<a href="/about/" title="About Me" rel="">About Me</a>	
				

				<a href="/blog/" title="Blog" rel="">Blog</a>	
				

				<a href="/contact/" title="Contact" rel="">Contact</a>	
				

				<a href="/projects/" title="Projects" rel="">Projects</a>	
				
				
			</nav>
		</div>
		<div class="col">
			
					 <h4>Connect</h4>
					<div class="social-icons footer">
						
						<a href="/contact" title=" email  - social " rel="noreferrer noopener"><img data-src="/images/icons/email-50x50.svg" alt="email social icon" class="logo" aria-label="email" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://indieweb.social/@elkcityhazard" title=" @elkcityhazard  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-purple.png" alt="mastodon social icon" class="logo" aria-label="mastodon" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://book.andrew-mccall.com/" title=" introwise  - social " rel="noreferrer noopener"><img data-src="/images/icons/logo-small-transparent.png" alt="introwise social icon" class="logo" aria-label="introwise" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://codeberg.org/elkcityhazard" title=" codeberg  - social " rel="noreferrer noopener"><img data-src="/images/icons/codeberg.png" alt="codeberg social icon" class="logo" aria-label="codeberg" loading="lazy" decoding="async" height="45" width="45"></a>
						
						<a href="https://gitlab.com/elkcityhazard" title=" gitlab  - social " rel="noreferrer noopener"><img data-src="/images/icons/gitlab.png" alt="gitlab social icon" class="logo" aria-label="gitlab" loading="lazy" decoding="async" height="45" width="45"></a>
						
					</div>
					
					
		</div>
			
	</div>
	
	<p class="center">&copy; <span id="currentYear">2024</span> - <a href="//localhost:1313/">Andrew M McCall - Traverse City Web Developer</a> </p>
</footer>


	</div>
</body>
</html>
